"0","set.seed(1)"
"0",""
"0","n <- 100"
"0","num_simulations <- 1000"
"0",""
"0","x <- seq(0, 5, length.out = n)"
"0",""
"0","beta0 <- 4"
"0","beta1 <- 1"
"0","beta2 <- 1"
"0",""
"0","sigma <- 1"
"0",""
"0","error <- rnorm(n, mean = 0, sd = sigma)"
"0",""
"0","y <- beta0 + beta1 * x + beta2 * x^2 + error"
"0",""
"0","train_set = data.frame(X,Y)"
"0",""
"0","M1 <- lm(y~x, data = train_set)"
"0","M2 <- lm(y~poly(x, degree=2), data = train_set)"
"0","M3 <- lm(y~poly(x, degree=3), data = train_set)"
"0","M4 <- lm(y~poly(x, degree=5), data = train_set)"
"0","M5 <- lm(y~poly(x, degree=11), data = train_set)"
"0",""
"0","yhat1 = yhat2 = yhat3 = yhat4 = yhat5 = rep(NA, 1000)"
"0",""
"0","for (i in 1:1000)"
"0","{"
"0","  error = rnorm(n,0,1)"
"0","  y <- beta0 + beta1 * x + beta2 * x^2 + error"
"0",""
"0","  train_set = data.frame(x,y)"
"0","  "
"0","  M1 <- lm(y~x, data = train_set)"
"0","  M2 <- lm(y~poly(x, degree=2), data = train_set)"
"0","  M3 <- lm(y~poly(x, degree=3), data = train_set)"
"0","  M4 <- lm(y~poly(x, degree=5), data = train_set)"
"0","  M5 <- lm(y~poly(x, degree=11), data = train_set)"
"0","  "
"0","  yhat1[i] = predict(M1, data.frame(x=1))"
"0","  yhat2[i] = predict(M2, data.frame(x=1))"
"0","  yhat3[i] = predict(M3, data.frame(x=1))"
"0","  yhat4[i] = predict(M4, data.frame(x=1))"
"0","  yhat5[i] = predict(M5, data.frame(x=1))"
"0","}"
"0",""
"0","x0 = rep(1, 1000)"
"0","y0 = 1 + x0 + x0^2 + rnorm(1000, 0, 1)"
"0",""
"0","test = data.frame(x0, y0)"
"0",""
"0","mean((y0 - yhat1)^2)"
"1","[1]"
"1"," 9.107531"
"1","
"
"0","mean((y0 - yhat2)^2)"
"1","[1]"
"1"," 9.834266"
"1","
"
"0","mean((y0 - yhat3)^2)"
"1","[1]"
"1"," 9.806219"
"1","
"
"0","mean((y0 - yhat4)^2)"
"1","[1]"
"1"," 9.847776"
"1","
"
"0","mean((y0 - yhat5)^2)"
"1","[1]"
"1"," 9.903076"
"1","
"
